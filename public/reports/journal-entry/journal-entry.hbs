<style>
    @page {
        margin: 0;
    }

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    .report-container {
        /* Responsive font scale tokens */
        --fs-xs: clamp(0.45rem, 0.60vw + 0.15vh, 0.65rem);
        --fs-sm: clamp(0.55rem, 0.75vw + 0.25vh, 0.75rem);
        --fs-base: clamp(0.65rem, 0.90vw + 0.30vh, 0.85rem);
        --fs-lg: clamp(0.75rem, 1.10vw + 0.40vh, 0.95rem);
        --fs-xl: clamp(0.85rem, 1.50vw + 0.55vh, 1.25rem);
        --fs-2xl: clamp(0.95rem, 1.80vw + 0.65vh, 1.65rem);

        width: 100%;
        height: 100%;
        background: white;
        padding: clamp(2rem, 10%, 5.5rem);
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
        color: #1f2937;
        font-size: var(--fs-base);
        line-height: 1.4;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
    }

    /* Header - scales with container */
    .report-header {
        text-align: center;
        margin-bottom: clamp(0.5rem, 2%, 1.5rem);
        padding-bottom: clamp(0.25rem, 1.5%, 1rem);
        border-bottom: 1px solid #e5e7eb;
    }

    .report-header h1 {
        font-size: var(--fs-lg);
        font-weight: 800;
        color: #111827;
        margin-bottom: clamp(0.125rem, 0.5%, 0.375rem);
        letter-spacing: -0.025em;
    }

    .report-header .address {
        font-size: var(--fs-sm);
        color: #6b7280;
        margin: clamp(0.125rem, 0.5%, 0.25rem) 0;
    }

    .report-header .tin {
        font-size: var(--fs-xs);
        color: #9ca3af;
    }

    .report-header h2 {
        font-size: var(--fs-xs);
        font-weight: 700;
        text-transform: uppercase;
        margin-top: clamp(0.375rem, 1%, 0.75rem);
        color: #111827;
    }

    /* Info Grid - responsive columns */
    .info-grid {
        display: grid;
        grid-template-columns: 1fr;
        gap: clamp(0.375rem, 1.5%, 1rem);
        margin-bottom: clamp(0.5rem, 2%, 1.5rem);
        font-size: var(--fs-sm);
    }

    @container (min-width: 400px) {
        .info-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @container (min-width: 600px) {
        .info-grid {
            grid-template-columns: repeat(3, 1fr);
        }
    }

    .info-item {
        padding: clamp(0.25rem, 1%, 0.5rem);
    }

    .info-label {
        font-size: var(--fs-sm);
        font-weight: 600;
        color: #374151;
        display: inline-block;
    }

    .info-value {
        font-size: var(--fs-sm);
        color: #1f2937;
        font-weight: 600;
        padding-left: 0.25rem;
    }

    .info-subtext {
        font-size: var(--fs-xs);
        color: #6b7280;
        margin-top: 0.125rem;
    }

    /* Table - fully responsive */
    .table-wrapper {
        width: 100%;
        overflow-x: auto;
        margin-bottom: clamp(0.5rem, 2%, 1rem);
        border-radius: clamp(0.25rem, 0.5%, 0.5rem);
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    table {
        width: 100%;
        border-collapse: collapse;
        background: white;
        font-size: var(--fs-sm);
    }

    thead {
        background: #f9fafb;
        position: sticky;
        top: 0;
    }

    th {
        text-transform: uppercase;
        font-size: var(--fs-xs);
        font-weight: 700;
        color: #374151;
        padding: clamp(0.25rem, 1%, 0.75rem) clamp(0.375rem, 1.5%, 1rem);
        text-align: left;
        border-bottom: 2px solid #e5e7eb;
    }

    td {
        font-size: inherit;
        padding: clamp(0.25rem, 1%, 0.625rem) clamp(0.375rem, 1.5%, 1rem);
        border-bottom: 1px solid #f3f4f6;
    }

    .text-right {
        text-align: right;
        font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
        font-variant-numeric: tabular-nums;
    }

    .highlight {
        background: #dbeafe;
        font-weight: 700;
        color: #1e40af;
        border-top: 1px solid #3b82f6;
        border-bottom: 1px solid #3b82f6;
    }

    .totals {
        background: #f3f4f6;
        font-weight: 700;
        color: #111827;
        font-size: var(--fs-base);
        border-top: 2px solid #9ca3af;
    }

    /* Amount in words */
    .amount-words {
        margin: clamp(0.5rem, 1.5%, 1rem) 0;
        padding: clamp(0.375rem, 1.5%, 1rem);
        background: linear-gradient(to right, #fef3c7, #fde68a);
        border: 1px solid #fbbf24;
        border-radius: clamp(0.25rem, 0.5%, 0.5rem);
        color: #78350f;
        font-size: var(--fs-base);
        font-weight: 600;
        text-align: center;
        letter-spacing: 0.025em;
    }

    /* Signatures - responsive grid */
    .signature-grid {
        display: grid;
        grid-template-columns: 2fr;
        gap: clamp(0.5rem, 2%, 1rem);
        margin-top: clamp(0.75rem, 2.5%, 1.5rem);
        font-size: var(--fs-sm);
        width: 100%;
    }

    @container (min-width: 500px) {
        .signature-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    @container (min-width: 700px) {
        .signature-grid {
            grid-template-columns: repeat(2, 1fr);
        }
    }

    .signature-item {
        text-align: center;
    }

    .signature-label {
        font-size: var(--fs-xs);
        color: #6b7280;
        margin-bottom: clamp(0.25rem, 1%, 0.5rem);
    }

    .signature-line {
        border-bottom: 1px solid #9ca3af;
        padding: clamp(0.25rem, 1%, 0.5rem) 0;
        min-height: clamp(1rem, 3%, 2rem);
        font-weight: 500;
        font-size: var(--fs-sm);
        color: #1f2937;
        margin-top: clamp(0.25rem, 1%, 0.5rem);
    }

    .report-footer {
        margin-top: auto;
        padding-top: clamp(0.5rem, 2%, 1rem);
        border-top: 1px solid #e5e7eb;
        display: grid;

        grid-template-columns: repeat(2, 1fr);
        gap: clamp(0.25rem, 1%, 0.5rem);
        font-size: var(--fs-xs);
        color: #6b7280;
    }

    @container (min-width: 500px) {
        .report-footer {
            grid-template-columns: repeat(3, 1fr);
        }
    }

    .footer-item {
        display: flex;
        flex-direction: column;
        text-align: center;
    }

    .footer-label {
        font-weight: 600;
        color: #374151;
        margin-bottom: 0.125rem;
    }

    .footer-value {
        color: #1f2937;
        font-family: 'SF Mono', 'Monaco', 'Courier New', monospace;
    }

    /* Approval section */
    .approval-section {
        margin-top: clamp(0.75rem, 2.5%, 1.5rem);
        padding-top: clamp(0.5rem, 2%, 1rem);
        border-top: 1px solid #e5e7eb;
        text-align: center;
    }

    .approval-label {
        font-size: var(--fs-lg);
        font-weight: 700;
        text-transform: uppercase;
        color: #111827;
        margin-bottom: clamp(0.375rem, 1.5%, 0.75rem);
    }

    .approval-line {
        max-width: clamp(10rem, 50%, 20rem);
        margin: 0 auto;
        border-bottom: 2px solid #374151;
        padding: clamp(0.25rem, 1%, 0.5rem) 0;
        min-height: clamp(1.25rem, 3.5%, 2.5rem);
        font-weight: 600;
        color: #1f2937;
        font-size: var(--fs-base);
    }

    /* Container queries support */
    .report-container {
        container-type: inline-size;
        container-name: report;
    }

    /* Print optimization */
    @media print {
        .report-container {
            padding: 2%;
        }

        .table-wrapper {
            box-shadow: none;
        }

        * {
            -webkit-print-color-adjust: exact;
            print-color-adjust: exact;
        }
    }
</style>

<div class="report-container">
    <header class="report-header">
        <h1>{{header_title}}</h1>
        <p class="address">{{header_address}}</p>
        <p class="tin">TIN: {{tax_number}}</p>
        <h2>{{report_title}}</h2>
    </header>

    <div class="info-grid">
        <div class="info-item">
            <div>
                <span class="info-label">Name:</span>
                <span class="info-value">{{name}}</span>
            </div>
            <p class="info-subtext">particulars: {{particulars}}</p>
        </div>
        <div class="info-item">
            <p><span class="info-label">Voucher No:</span> <span class="info-value">{{voucher_no}}</span></p>
            <p><span class="info-label">Entry Date:</span> <span class="info-value">{{entry_date}}</span></p>
            <p><span class="info-label">Print Date:</span> <span class="info-value">{{print_date}}</span></p>
        </div>
    </div>

    <div class="table-wrapper">
        <table>
            <thead>
                <tr>
                    <th>Account Title</th>
                    <th class="text-right">Debit (₱)</th>
                    <th class="text-right">Credit (₱)</th>
                </tr>
            </thead>
            <tbody>
                {{#each account_entries}}
                <tr class="{{#if is_highlighted}}highlight{{/if}}">
                    <td>{{account_title}}</td>
                    <td class="text-right">{{debit}}</td>
                    <td class="text-right">{{credit}}</td>
                </tr>
                {{/each}}
                <tr class="totals">
                    <td>TOTAL</td>
                    <td class="text-right">{{total_debit}}</td>
                    <td class="text-right">{{total_credit}}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="amount-words">
        *** {{status}} ({{count}})***
    </div>

    <div class="signature-grid">
        <div class="signature-item">
            <div class="signature-line">{{prepared_by}}</div>
            <p class="signature-label">Prepared by:</p>
        </div>
        <div class="signature-item">
            <div class="signature-line">{{approved_by}}</div>
            <p class="signaure-label">Approved by:</p>
        </div>
    </div>

    <footer class="report-footer">
        <div class="footer-item">
            <span class="footer-label">User ID</span>
            <span class="footer-value">{{user_id}}</span>
        </div>
        <div class="footer-item">
            <span class="footer-label">Report Date</span>
            <span class="footer-value">{{report_date}}</span>
        </div>
        <div class="footer-item">
            <span class="footer-label">Time</span>
            <span class="footer-value">{{time}}</span>
        </div>
    </footer>

</div>